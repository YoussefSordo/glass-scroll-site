<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Glass Scroll Effect</title>

<style>
html, body {
  margin: 0;
  height: 200vh;
  background: black;
  overflow-x: hidden;
}

canvas {
  position: fixed;
  top: 0;
  left: 0;
}
</style>
</head>

<body>

<canvas id="scene"></canvas>

<script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>

<script>
const scene = new THREE.Scene();
const camera = new THREE.OrthographicCamera(-1,1,1,-1,0,1);

const renderer = new THREE.WebGLRenderer({
  canvas: document.getElementById('scene'),
  alpha: true
});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

const loader = new THREE.TextureLoader();

const gradient = loader.load("color_gradient_ultra_seamless.jpg"); // <-- NEW IMAGE NAME
const glass = loader.load("glass-lines.png");

gradient.wrapS = THREE.RepeatWrapping;
gradient.wrapT = THREE.RepeatWrapping;

const material = new THREE.ShaderMaterial({
  uniforms: {
    uTexture: { value: gradient },
    uGlass: { value: glass },
    uScroll: { value: 0 },
    uAspect: { value: window.innerWidth / window.innerHeight }
  },
  vertexShader: `
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = vec4(position,1.0);
    }
  `,
  fragmentShader: `
    varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform sampler2D uGlass;
    uniform float uScroll;
    uniform float uAspect;

    void main() {
      // IMAGE IS VERTICAL (rotated)
      float imgAspect = 600.0 / 4096.0;

      vec2 uv = vUv;

      // Fit image to screen without stretching
      if(uAspect > imgAspect) {
        uv.y = (vUv.y - 0.5) * (uAspect / imgAspect) + 0.5;
      } else {
        uv.x = (vUv.x - 0.5) * (imgAspect / uAspect) + 0.5;
      }

      // SCROLL THE IMAGE VERTICALLY
      uv.y += uScroll;

      // GLASS LINES STAY FIXED (NOT MOVING)
      float d = texture2D(uGlass, vUv).r;
      vec2 displaced = uv + vec2(d * 0.15, 0.0);

      gl_FragColor = texture2D(uTexture, displaced);
    }
  `
});

const mesh = new THREE.Mesh(
  new THREE.PlaneGeometry(2,2),
  material
);
scene.add(mesh);

window.addEventListener("resize", () => {
  renderer.setSize(window.innerWidth, window.innerHeight);
  material.uniforms.uAspect.value = window.innerWidth / window.innerHeight;
});

window.addEventListener("scroll", () => {
  material.uniforms.uScroll.value = window.scrollY * 0.0006;
  renderer.render(scene, camera);
});

renderer.render(scene, camera);
</script>

</body>
</html>

